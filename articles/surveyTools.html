<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="surveyTools">
<title>surveyTools • surveyTools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="surveyTools">
<meta property="og:description" content="surveyTools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">surveyTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/surveyTools.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/example_analysis.html">Example analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/TimTaylor/surveyTools/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="surveyTools_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>surveyTools</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/TimTaylor/surveyTools/blob/HEAD/vignettes/surveyTools.Rmd" class="external-link"><code>vignettes/surveyTools.Rmd</code></a></small>
      <div class="d-none name"><code>surveyTools.Rmd</code></div>
    </div>

    
    
<p><em>surveyTools</em> provides a simple and intuitive user interface for the analysis of <a href="https://euroqol.org/eq-5d-instruments" class="external-link">EQ-5D</a> surveys. It builds upon the <a href="https://cran.r-project.org/package=eq5d" class="external-link">eq5d package</a> to facilitate the calculation of QALY values and other related metrics across multiple surveys.</p>
<p>The package provides a range of functions:</p>
<ul>
<li>Constructors (and validators) for EQ5D data frame subclasses (EQ5D3L, EQ5D5L and EQ5D): <code><a href="../reference/new_eq5d.html">new_eq5d3l()</a></code> (<code><a href="../reference/new_eq5d.html">validate_eq5d3l()</a></code>), <code><a href="../reference/new_eq5d.html">new_eq5d5l()</a></code> (<code><a href="../reference/new_eq5d.html">validate_eq5d5l()</a></code>) and <code><a href="../reference/new_eq5d.html">new_eq5dy()</a></code> (<code><a href="../reference/new_eq5d.html">validate_eq5dy()</a></code>).</li>
<li>User-friendly coercion functions <code><a href="../reference/as_eq5d.html">as_eq5d3l()</a></code>, <code><a href="../reference/as_eq5d.html">as_eq5d5l()</a></code> and <code><a href="../reference/as_eq5d.html">as_eq5dy()</a></code>.</li>
<li>The calculation of utility values based on a range of different value sets. This functionality is provided via the <code><a href="../reference/calculate_utility.html">calculate_utility()</a></code>, <code><a href="../reference/calculate_utility.html">add_utility()</a></code> and <code><a href="../reference/available_valuesets.html">available_valuesets()</a></code> functions which are wrappers around the <a href="https://cran.r-project.org/package=eq5d" class="external-link">eq5d</a> package.</li>
<li>The calculation of different Quality of Life Years (QALY) metrics including unadjusted ‘raw’ values, and the disutility from both perfect health and, optionally, a specified baseline. See <code><a href="../reference/calculate_qalys.html">calculate_qalys()</a></code>.</li>
<li>The calculation of the Paretian Classification of Health Change (PCHC) in an individual’s health state between two surveys via <code><a href="../reference/calculate_pchc.html">calculate_pchc()</a></code> (again wrapping the <a href="https://cran.r-project.org/package=eq5d" class="external-link">eq5d</a> package).</li>
<li>Easy calculation of responses with a health limitation (i.e. a non-one response in one of the dimensions) via <code><a href="../reference/calculate_limitation.html">calculate_limitation()</a></code>.</li>
</ul>
<div class="section level2">
<h2 id="the-eq5d-object-class">The EQ5D object class<a class="anchor" aria-label="anchor" href="#the-eq5d-object-class"></a>
</h2>
<p>We define an <code>EQ5D</code> object as a table containing data in long format that meets the following criteria:</p>
<ul>
<li><p>It contains columns that represent dimensions from the EQ5D survey specification as well as a column representing the Visual Analogue Score (columns ‘mobility’, ‘self_care’, ‘usual’, ‘pain’, ‘anxiety’ and ‘vas’ in the example table below)</p></li>
<li><p>Dimension values must be whole numbers, bounded between 1 and 3 for EQ5D3L and EQ5D3Y surveys or bounded between 1 and 5 for EQ5D5L surveys</p></li>
<li><p>It contains a column that acts as a unique respondent identifier (<code>respondentID</code>) and another that identifying different surveys over time (`surveyID). Together these should uniquely identify a response (i.e. no combination of these should be duplicated within the given data frame).</p></li>
<li><p>It contains a column that provides the relative time (e.g. days/weeks) of a response within the survey framework (‘time_index’).</p></li>
</ul>
<p>In <em>surveyTools</em> we implement these objects as a data frame subclass and provide functionality to coerce input to this representation via functions <code><a href="../reference/as_eq5d.html">as_eq5d3l()</a></code>, <code><a href="../reference/as_eq5d.html">as_eq5d5l()</a></code> and <code><a href="../reference/as_eq5d.html">as_eq5dy()</a></code>.</p>
<table class="table">
<caption>Example of an EQ5D5L object</caption>
<thead><tr class="header">
<th align="right">surveyID</th>
<th align="right">respondentID</th>
<th align="right">time_index</th>
<th align="right">mobility</th>
<th align="right">self_care</th>
<th align="right">usual</th>
<th align="right">pain</th>
<th align="right">anxiety</th>
<th align="right">vas</th>
<th align="left">sex</th>
<th align="right">age</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="left">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">30</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">87</td>
<td align="left">Female</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">2</td>
<td align="right">30</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">65</td>
<td align="left">Male</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">3</td>
<td align="right">30</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">76</td>
<td align="left">Male</td>
<td align="right">39</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">4</td>
<td align="right">30</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">55</td>
<td align="left">Female</td>
<td align="right">60</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">5</td>
<td align="right">30</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">80</td>
<td align="left">Male</td>
<td align="right">28</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">6</td>
<td align="right">30</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">83</td>
<td align="left">Male</td>
<td align="right">59</td>
</tr>
<tr class="even">
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="left">.</td>
<td align="right">.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/TimTaylor/surveyTools" class="external-link">surveyTools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example EQ5D5L data </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"EQ5D5L_surveys"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">EQ5D5L_surveys</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'tbl' and 'data.frame':  10000 obs. of  12 variables:</span></span>
<span><span class="co">#&gt;  $ surveyID    : chr  "survey01" "survey02" "survey03" "survey04" ...</span></span>
<span><span class="co">#&gt;  $ respondentID: int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ sex         : chr  "Female" "Female" "Female" "Female" ...</span></span>
<span><span class="co">#&gt;  $ age         : int  25 25 25 25 25 25 25 25 25 25 ...</span></span>
<span><span class="co">#&gt;  $ mobility    : int  2 1 1 1 1 2 2 1 1 2 ...</span></span>
<span><span class="co">#&gt;  $ self_care   : int  1 4 5 2 2 1 1 1 3 1 ...</span></span>
<span><span class="co">#&gt;  $ usual       : int  2 5 2 5 3 1 2 2 2 2 ...</span></span>
<span><span class="co">#&gt;  $ pain        : int  1 5 1 2 3 2 1 2 1 1 ...</span></span>
<span><span class="co">#&gt;  $ anxiety     : int  1 3 3 2 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ time_index  : num  30 60 90 120 150 180 210 240 270 300 ...</span></span>
<span><span class="co">#&gt;  $ vas         : num  96 22 61 65 78 88 85 95 94 87 ...</span></span>
<span><span class="co">#&gt;  $ dummy       : logi  TRUE FALSE TRUE TRUE FALSE TRUE ...</span></span></code></pre></div>
<p>Before coercing our data to an EQ5D5L object we must ensure that our surveys have an explicit ordering. We do this by converting the <code>surveyID</code> variable to an ordered factor prior to call <code><a href="../reference/as_eq5d.html">as_eq5d5l()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">EQ5D5L_surveys</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">surveyID</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">surveyID</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_eq5d.html">as_eq5d5l</a></span><span class="op">(</span></span>
<span>    <span class="va">dat</span>,</span>
<span>    mobility <span class="op">=</span> <span class="st">"mobility"</span>,</span>
<span>    self_care <span class="op">=</span> <span class="st">"self_care"</span>,</span>
<span>    usual <span class="op">=</span> <span class="st">"usual"</span>,</span>
<span>    pain <span class="op">=</span> <span class="st">"pain"</span>,</span>
<span>    anxiety <span class="op">=</span> <span class="st">"anxiety"</span>,</span>
<span>    respondentID <span class="op">=</span> <span class="st">"respondentID"</span>,</span>
<span>    surveyID <span class="op">=</span> <span class="st">"surveyID"</span>,</span>
<span>    vas <span class="op">=</span> <span class="st">"vas"</span>,</span>
<span>    time_index <span class="op">=</span> <span class="st">"time_index"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># EQ-5D-5L: 10,000 x 12</span></span></span>
<span><span class="co">#&gt;    surveyID respondentID sex      age mobility self_care usual  pain anxiety</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> survey01            1 Female    25        2         1     2     1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> survey02            1 Female    25        1         4     5     5       3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> survey03            1 Female    25        1         5     2     1       3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> survey04            1 Female    25        1         2     5     2       2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> survey05            1 Female    25        1         2     3     3       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> survey06            1 Female    25        2         1     1     2       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> survey07            1 Female    25        2         1     2     1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> survey08            1 Female    25        1         1     2     2       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> survey09            1 Female    25        1         3     2     1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> survey10            1 Female    25        2         1     2     1       1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 9,990 more rows, and 3 more variables: time_index &lt;dbl&gt;, vas &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   dummy &lt;lgl&gt;</span></span></span></code></pre></div>
<p>To obtain a quick overview of the data we can call <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>. By default this returns the output as a list of data frames, showing frequency counts and proportions, split by <code>surveyID</code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $survey01</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 6 × 6</span></span></span>
<span><span class="co">#&gt;   value mobility self_care usual  pain anxiety</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1      666       608   401   320     574</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2      196       131   303   359     235</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     3      114       205   166   287     150</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     4       19        18    61    24      29</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     5        5        38    69    10      12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>    <span style="color: #BB0000;">NA</span>        0         0     0     0       0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $survey02</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 6 × 6</span></span></span>
<span><span class="co">#&gt;   value mobility self_care usual  pain anxiety</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1      396       106   142    26      47</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2      248       169   177    71      92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     3      194       214   160    93     103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     4       83       277   237   364     381</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     5       79       234   284   446     377</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>    <span style="color: #BB0000;">NA</span>        0         0     0     0       0</span></span></code></pre></div>
<p>Alternatively we can set the parameter <code>tidy</code> to TRUE and obtain the summary data in a “tidy” (long) format.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">dat</span>, tidy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 300 × 4</span></span></span>
<span><span class="co">#&gt;    surveyID dimension value count</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> survey01 mobility      1   666</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> survey01 mobility      2   196</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> survey01 mobility      3   114</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> survey01 mobility      4    19</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> survey01 mobility      5     5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> survey01 mobility     <span style="color: #BB0000;">NA</span>     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> survey01 self_care     1   608</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> survey01 self_care     2   131</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> survey01 self_care     3   205</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> survey01 self_care     4    18</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 290 more rows</span></span></span></code></pre></div>
<p>If we try and coerce an object that does not meet the required criteria, the function will error with an informative message.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Incorrect bounds for dimension values will cause an error</span></span>
<span><span class="fu"><a href="../reference/as_eq5d.html">as_eq5d3l</a></span><span class="op">(</span></span>
<span>    <span class="va">EQ5D5L_surveys</span>,</span>
<span>    mobility <span class="op">=</span> <span class="st">"mobility"</span>,</span>
<span>    self_care <span class="op">=</span> <span class="st">"self_care"</span>,</span>
<span>    usual <span class="op">=</span> <span class="st">"usual"</span>,</span>
<span>    pain <span class="op">=</span> <span class="st">"pain"</span>,</span>
<span>    anxiety <span class="op">=</span> <span class="st">"anxiety"</span>,</span>
<span>    respondentID <span class="op">=</span> <span class="st">"respondentID"</span>,</span>
<span>    surveyID <span class="op">=</span> <span class="st">"surveyID"</span>,</span>
<span>    vas <span class="op">=</span> <span class="st">"vas"</span>,</span>
<span>    time_index <span class="op">=</span> <span class="st">"time_index"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `validate_eq5d()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Dimensions must be either bounded by 1 and 3, or NA</span></span>
<span></span>
<span><span class="co"># Dimension values that are not whole numbers will cause an error</span></span>
<span><span class="va">EQ5D5L_surveys</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1.5</span></span>
<span><span class="fu"><a href="../reference/as_eq5d.html">as_eq5d5l</a></span><span class="op">(</span></span>
<span>    <span class="va">EQ5D5L_surveys</span>,</span>
<span>    mobility <span class="op">=</span> <span class="st">"mobility"</span>,</span>
<span>    self_care <span class="op">=</span> <span class="st">"self_care"</span>,</span>
<span>    usual <span class="op">=</span> <span class="st">"usual"</span>,</span>
<span>    pain <span class="op">=</span> <span class="st">"pain"</span>,</span>
<span>    anxiety <span class="op">=</span> <span class="st">"anxiety"</span>,</span>
<span>    respondentID <span class="op">=</span> <span class="st">"respondentID"</span>,</span>
<span>    surveyID <span class="op">=</span> <span class="st">"surveyID"</span>,</span>
<span>    vas <span class="op">=</span> <span class="st">"vas"</span>,</span>
<span>    time_index <span class="op">=</span> <span class="st">"time_index"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `validate_eq5d()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Dimension values must be whole numbers or NA</span></span></code></pre></div>
<div class="section level3">
<h3 id="available-value-sets">Available value sets<a class="anchor" aria-label="anchor" href="#available-value-sets"></a>
</h3>
<p>Once we have created our EQ5D objects we can think about which value sets we would to use for the calculation of utility values and subsequent QALY metrics. We can obtain a list of compatible value sets (across countries and type) by passing our EQ5D object directly to the <code><a href="../reference/available_valuesets.html">available_valuesets()</a></code> function or by passing a comparable string.</p>
<p>For EQ5D3L inputs the type can be:</p>
<ul>
<li><p>“TTO”, the time trade-off valuation technique;</p></li>
<li><p>“VAS”, the visual analogue scale valuation technique;</p></li>
<li><p>“RCW”, a reverse crosswalk conversion to EQ5D5L values; or</p></li>
<li><p>“DSU”, the NICE Decision Support Unit’s model that allows mappings on to EQ5D5L values accounting for both age and sex.</p></li>
</ul>
<p>For EQ5D5L inputs this can be:</p>
<ul>
<li><p>“VT”, value sets generated via a EuroQol standardised valuation study protocol;</p></li>
<li><p>“CW”, a crosswalk conversion EQ5D3L values; or</p></li>
<li><p>“DSU”, the NICE Decision Support Unit’s model that allows mappings on to EQ5D5L values accounting for both age and sex.</p></li>
</ul>
<p>Note that this function is purely a convenience wrapper around the <code><a href="https://rdrr.io/pkg/eq5d/man/valuesets.html" class="external-link">eq5d::valuesets()</a></code> function. It will return a data frame with columns representing the EQ5D version, the value set country and the value set type.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/available_valuesets.html">available_valuesets</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">vs</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 10 × 3</span></span></span>
<span><span class="co">#&gt;    Version  Type  Country </span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> EQ-5D-5L VT    Belgium </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> EQ-5D-5L VT    Canada  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> EQ-5D-5L VT    China   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> EQ-5D-5L VT    Denmark </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> EQ-5D-5L VT    Egypt   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> EQ-5D-5L VT    England </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> EQ-5D-5L VT    Ethiopia</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> EQ-5D-5L VT    France  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> EQ-5D-5L VT    Germany </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> EQ-5D-5L VT    HongKong</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">vs</span>, <span class="fu"><a href="../reference/available_valuesets.html">available_valuesets</a></span><span class="op">(</span><span class="st">"eq5d5l"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">vs</span>, <span class="fu"><a href="../reference/available_valuesets.html">available_valuesets</a></span><span class="op">(</span><span class="st">"EQ5D5L"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">vs</span>, <span class="fu"><a href="../reference/available_valuesets.html">available_valuesets</a></span><span class="op">(</span><span class="st">"EQ-5D-5L"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>For further details about the available value sets please consult the documentation of the wrapped package via <code><a href="https://cran.rstudio.com/web/packages/eq5d/vignettes/eq5d.html" class="external-link">vignette(topic = "eq5d", package = "eq5d")</a></code>.</p>
</div>
<div class="section level3">
<h3 id="calculating-utility-values">Calculating utility values<a class="anchor" aria-label="anchor" href="#calculating-utility-values"></a>
</h3>
<p>To calculate the utility values we call <code>calculate_utility</code> on our EQ5D object with additional arguments specifying the countries and type we are interested in. Note that the function will error if the type and country arguments are of different length, with an exception made for inputs of length one that will be recycled to the necessary length.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example 1</span></span>
<span><span class="va">vs_dat</span> <span class="op">&lt;-</span> <span class="va">vs</span><span class="op">[</span><span class="va">vs</span><span class="op">$</span><span class="va">Country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"England"</span>, <span class="st">"Ireland"</span>, <span class="st">"Germany"</span>, <span class="st">"UK"</span>, <span class="st">"USA"</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="va">vs_dat</span> <span class="op">&lt;-</span> <span class="va">vs_dat</span><span class="op">[</span><span class="va">vs_dat</span><span class="op">$</span><span class="va">Type</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"VT"</span>, <span class="st">"CW"</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="fu"><a href="../reference/calculate_utility.html">calculate_utility</a></span><span class="op">(</span><span class="va">dat</span>, type <span class="op">=</span> <span class="va">vs_dat</span><span class="op">$</span><span class="va">Type</span>, country <span class="op">=</span> <span class="va">vs_dat</span><span class="op">$</span><span class="va">Country</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 70,000 × 5</span></span></span>
<span><span class="co">#&gt;    respondentID surveyID .utility_country .utility_type .value</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>            1 survey01 England          VT             0.892</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>            1 survey02 England          VT             0.213</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>            1 survey03 England          VT             0.643</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>            1 survey04 England          VT             0.625</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>            1 survey05 England          VT             0.803</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>            1 survey06 England          VT             0.879</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>            1 survey07 England          VT             0.892</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>            1 survey08 England          VT             0.887</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>            1 survey09 England          VT             0.87 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>            1 survey10 England          VT             0.892</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 69,990 more rows</span></span></span>
<span></span>
<span><span class="co"># Example 2 - cross walk comparison</span></span>
<span><span class="va">vs_dat</span> <span class="op">&lt;-</span> <span class="va">vs_dat</span><span class="op">[</span><span class="va">vs_dat</span><span class="op">$</span><span class="va">Country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"England"</span>, <span class="st">"UK"</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="va">util</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_utility.html">calculate_utility</a></span><span class="op">(</span><span class="va">dat</span>, type <span class="op">=</span> <span class="va">vs_dat</span><span class="op">$</span><span class="va">Type</span>, country <span class="op">=</span> <span class="va">vs_dat</span><span class="op">$</span><span class="va">Country</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot the results</span></span>
<span><span class="va">util</span><span class="op">$</span><span class="va">fill</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">util</span><span class="op">$</span><span class="va">.utility_country</span>, <span class="va">util</span><span class="op">$</span><span class="va">.utility_type</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">util</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">surveyID</span>, y <span class="op">=</span> <span class="va">.value</span>, fill <span class="op">=</span> <span class="va">fill</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">1</span>, outlier.shape <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary</a></span><span class="op">(</span></span>
<span>        mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">.utility_country</span><span class="op">)</span>,</span>
<span>        fun <span class="op">=</span> <span class="va">mean</span>,</span>
<span>        geom <span class="op">=</span> <span class="st">"point"</span>,</span>
<span>        position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>        shape <span class="op">=</span> <span class="fl">21</span>,</span>
<span>        color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>        fill <span class="op">=</span> <span class="st">"white"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, linetype <span class="op">=</span> <span class="st">"longdash"</span>, size <span class="op">=</span> <span class="fl">0.6</span>, color <span class="op">=</span> <span class="st">"grey30"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>n.breaks <span class="op">=</span> <span class="fl">10</span>, expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.005</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"value set"</span><span class="op">)</span></span></code></pre></div>
<p><img src="surveyTools_files/figure-html/unnamed-chunk-8-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="qaly-calculations">QALY calculations<a class="anchor" aria-label="anchor" href="#qaly-calculations"></a>
</h3>
<p>Quality of life years can be calculated directly from utility values. By default, two different metrics are provided. Firstly, a “raw” value which is simply the scaled area under the utility curve and, secondly, a value which represents the loss from full health.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qalys</span> <span class="op">&lt;-</span> </span>
<span>    <span class="va">dat</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="../reference/calculate_utility.html">add_utility</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"VT"</span>, country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Denmark"</span>, <span class="st">"France"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="../reference/calculate_qalys.html">calculate_qalys</a></span><span class="op">(</span>time_index <span class="op">=</span> <span class="st">"time_index"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">qalys</span>, <span class="va">.qaly</span><span class="op">==</span><span class="st">"raw"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 2,000 × 5</span></span></span>
<span><span class="co">#&gt;    respondentID .utility_type .utility_country .qaly .value</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>            1 VT            Denmark          raw    0.544</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>            1 VT            France           raw    0.573</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>            2 VT            Denmark          raw    0.487</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>            2 VT            France           raw    0.503</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>            3 VT            Denmark          raw    0.530</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>            3 VT            France           raw    0.577</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>            4 VT            Denmark          raw    0.276</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>            4 VT            France           raw    0.430</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>            5 VT            Denmark          raw    0.506</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>            5 VT            France           raw    0.575</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1,990 more rows</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">qalys</span>, <span class="va">.qaly</span><span class="op">==</span><span class="st">"loss_vs_fullhealth"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 2,000 × 5</span></span></span>
<span><span class="co">#&gt;    respondentID .utility_type .utility_country .qaly              .value</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>            1 VT            Denmark          loss_vs_fullhealth  0.195</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>            1 VT            France           loss_vs_fullhealth  0.166</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>            2 VT            Denmark          loss_vs_fullhealth  0.252</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>            2 VT            France           loss_vs_fullhealth  0.237</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>            3 VT            Denmark          loss_vs_fullhealth  0.210</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>            3 VT            France           loss_vs_fullhealth  0.162</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>            4 VT            Denmark          loss_vs_fullhealth  0.463</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>            4 VT            France           loss_vs_fullhealth  0.310</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>            5 VT            Denmark          loss_vs_fullhealth  0.233</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>            5 VT            France           loss_vs_fullhealth  0.164</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1,990 more rows</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="comparison-to-a-baseline">Comparison to a baseline<a class="anchor" aria-label="anchor" href="#comparison-to-a-baseline"></a>
</h3>
<p><code><a href="../reference/calculate_qalys.html">calculate_qalys()</a></code> also allows us to calculate the loss from a specified baseline in one of two ways. Firstly, a character string <code>baseline_survey</code> argument can be placed which matches a survey present in the utility data. If the argument is passed as such then the utility values from the specified survey are used to calculate the loss. Note that the survey is still included in the raw, unadjusted calculation, prior to the calculation of loss.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reload the example data and combine with some baseline measurements</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"EQ5D5L_surveys"</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> </span>
<span>    <span class="va">EQ5D5L_surveys</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span>surveyID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">surveyID</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="../reference/as_eq5d.html">as_eq5d5l</a></span><span class="op">(</span></span>
<span>        mobility <span class="op">=</span> <span class="st">"mobility"</span>,</span>
<span>        self_care <span class="op">=</span> <span class="st">"self_care"</span>,</span>
<span>        usual <span class="op">=</span> <span class="st">"usual"</span>,</span>
<span>        pain <span class="op">=</span> <span class="st">"pain"</span>,</span>
<span>        anxiety <span class="op">=</span> <span class="st">"anxiety"</span>,</span>
<span>        respondentID <span class="op">=</span> <span class="st">"respondentID"</span>,</span>
<span>        surveyID <span class="op">=</span> <span class="st">"surveyID"</span>,</span>
<span>        vas <span class="op">=</span> <span class="st">"vas"</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/calculate_utility.html">add_utility</a></span><span class="op">(</span><span class="va">dat</span>, type <span class="op">=</span> <span class="st">"VT"</span>, country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Denmark"</span>, <span class="st">"France"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="../reference/calculate_qalys.html">calculate_qalys</a></span><span class="op">(</span>baseline_survey <span class="op">=</span> <span class="st">"survey01"</span>, time_index <span class="op">=</span> <span class="st">"time_index"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.qaly</span> <span class="op">==</span> <span class="st">"loss_vs_baseline"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 2,000 × 5</span></span></span>
<span><span class="co">#&gt;    respondentID .utility_country .utility_type .qaly              .value</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>            1 Denmark          VT            loss_vs_baseline  0.141  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>            1 France           VT            loss_vs_baseline  0.114  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>            2 Denmark          VT            loss_vs_baseline  0.089<span style="text-decoration: underline;">2</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>            2 France           VT            loss_vs_baseline -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">70</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>            3 Denmark          VT            loss_vs_baseline  0.096<span style="text-decoration: underline;">5</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>            3 France           VT            loss_vs_baseline  0.106  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>            4 Denmark          VT            loss_vs_baseline  0.175  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>            4 France           VT            loss_vs_baseline  0.045<span style="text-decoration: underline;">0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>            5 Denmark          VT            loss_vs_baseline  0.142  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>            5 France           VT            loss_vs_baseline  0.091<span style="text-decoration: underline;">5</span> </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1,990 more rows</span></span></span></code></pre></div>
<p>Alternatively the <code>baseline_survey</code> argument can be specified as a data frame with a column corresponding to the respondentID and another representing the associated utility. Optionally columns corresponding to the utility country and utility type can be included to allow more granular comparisons. Note that for this specification of baseline, it is <strong>not</strong> included in the unadjusted, raw, calculation.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">split_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">dat</span><span class="op">$</span><span class="va">surveyID</span><span class="op">==</span><span class="st">"survey01"</span><span class="op">)</span></span>
<span><span class="va">surveys</span> <span class="op">&lt;-</span> <span class="va">split_dat</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">baseline</span> <span class="op">&lt;-</span> <span class="va">split_dat</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">utility_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_utility.html">add_utility</a></span><span class="op">(</span></span>
<span>    <span class="va">surveys</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"VT"</span>,</span>
<span>    country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Denmark"</span>, <span class="st">"France"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">baseline_utility</span> <span class="op">&lt;-</span> </span>
<span>    <span class="va">baseline</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="../reference/calculate_utility.html">add_utility</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"VT"</span>, country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Denmark"</span>, <span class="st">"France"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span>select<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">respondentID</span>,<span class="va">.utility_country</span>,<span class="va">.utility_type</span>,<span class="va">.value</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/calculate_qalys.html">calculate_qalys</a></span><span class="op">(</span><span class="va">utility_dat</span>, baseline_survey <span class="op">=</span> <span class="va">baseline_utility</span>, time_index <span class="op">=</span> <span class="st">"time_index"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.qaly</span> <span class="op">==</span> <span class="st">"loss_vs_baseline"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 2,000 × 5</span></span></span>
<span><span class="co">#&gt;    respondentID .utility_country .utility_type .qaly             .value</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>            1 Denmark          VT            loss_vs_baseline  0.101 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>            1 France           VT            loss_vs_baseline  0.079<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>            2 Denmark          VT            loss_vs_baseline  0.055<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>            2 France           VT            loss_vs_baseline -<span style="color: #BB0000;">0.034</span><span style="color: #BB0000; text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>            3 Denmark          VT            loss_vs_baseline  0.067<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>            3 France           VT            loss_vs_baseline  0.078<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>            4 Denmark          VT            loss_vs_baseline  0.145 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>            4 France           VT            loss_vs_baseline  0.018<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>            5 Denmark          VT            loss_vs_baseline  0.095<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>            5 France           VT            loss_vs_baseline  0.055<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1,990 more rows</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="calculate-limitations">Calculate limitations<a class="anchor" aria-label="anchor" href="#calculate-limitations"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">limitation</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_limitation.html">calculate_limitation</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 50 × 3</span></span></span>
<span><span class="co">#&gt;    surveyID dimension without_limitation</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> survey01 mobility               0.666</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> survey02 mobility               0.396</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> survey03 mobility               0.647</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> survey04 mobility               0.637</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> survey05 mobility               0.613</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> survey06 mobility               0.637</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> survey07 mobility               0.645</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> survey08 mobility               0.651</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> survey09 mobility               0.642</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> survey10 mobility               0.671</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 40 more rows</span></span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">limitation</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">surveyID</span>, y <span class="op">=</span> <span class="va">without_limitation</span>, group <span class="op">=</span> <span class="va">dimension</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">dimension</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>n.breaks <span class="op">=</span> <span class="fl">10</span>, expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.005</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html" class="external-link">scale_fill_discrete</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"dimension"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Without limitation"</span><span class="op">)</span></span></code></pre></div>
<p><img src="surveyTools_files/figure-html/unnamed-chunk-12-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="paretian-classification-of-health-change-pchc">Paretian Classification of Health Change (PCHC)<a class="anchor" aria-label="anchor" href="#paretian-classification-of-health-change-pchc"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"eq5d3l_example"</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_eq5d.html">as_eq5d3l</a></span><span class="op">(</span></span>
<span>    <span class="va">eq5d3l_example</span>,</span>
<span>    respondentID <span class="op">=</span> <span class="st">"respondentID"</span>,</span>
<span>    surveyID <span class="op">=</span> <span class="st">"surveyID"</span>,</span>
<span>    time_index <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>    mobility <span class="op">=</span> <span class="st">"MO"</span>,</span>
<span>    self_care <span class="op">=</span> <span class="st">"SC"</span>,</span>
<span>    usual <span class="op">=</span> <span class="st">"UA"</span>,</span>
<span>    pain <span class="op">=</span> <span class="st">"PD"</span>,</span>
<span>    anxiety <span class="op">=</span> <span class="st">"AD"</span>,</span>
<span>    vas <span class="op">=</span> <span class="st">"vas"</span>,</span>
<span>    drop <span class="op">=</span> <span class="cn">FALSE</span> <span class="co"># ensure we do not drop additional columns</span></span>
<span><span class="op">)</span> </span>
<span><span class="va">grp1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">Group</span> <span class="op">==</span> <span class="st">"Group1"</span><span class="op">)</span></span>
<span><span class="va">grp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">Group</span> <span class="op">==</span> <span class="st">"Group2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/calculate_pchc.html">calculate_pchc</a></span><span class="op">(</span><span class="va">grp1</span>, <span class="va">grp2</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 5 × 3</span></span></span>
<span><span class="co">#&gt;   Change       Number Percent</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> No change        14      14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Improve          59      59</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Worsen           14      14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Mixed change     13      13</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> No problems       0       0</span></span>
<span><span class="fu"><a href="../reference/calculate_pchc.html">calculate_pchc</a></span><span class="op">(</span><span class="va">grp1</span>, <span class="va">grp2</span>, by.dimension <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A data frame: 20 × 4</span></span></span>
<span><span class="co">#&gt;    .Dimension Change      Number Percent</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> MO         No change       31      31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> MO         Improve         26      26</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> MO         Worsen           7       7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> MO         No problems     36      36</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> SC         No change       21      21</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> SC         Improve         31      31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> SC         Worsen           7       7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> SC         No problems     41      41</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> UA         No change       33      33</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> UA         Improve         43      43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> UA         Worsen           6       6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> UA         No problems     18      18</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> PD         No change       59      59</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> PD         Improve         34      34</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> PD         Worsen           3       3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> PD         No problems      4       4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> AD         No change       14      14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> AD         Improve         22      22</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> AD         Worsen          12      12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span> AD         No problems     52      52</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>© <a href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/" class="external-link">Crown Copyright</a>, 2022, UKHSA.<br>The source code for the software is released under the MIT licence as per the the <a href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/open-government-licence/open-software-licences/" class="external-link">UK Government Licensing Framework</a> and the <a href="https://gds-way.cloudapps.digital/manuals/licensing.html" class="external-link">GDS Way licensing guidance</a>.<br>The documentation for the software is released under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" class="external-link">Open Government Licence</a></p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
